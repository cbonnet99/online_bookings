  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (68.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20091127004622)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (36.3ms)[0m   [0;1mCREATE TABLE "bookings" ("id" serial primary key, "starts_at" timestamp, "ends_at" timestamp, "name" character varying(255), "client_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091127004622')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateClients (20091203082733)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "clients" ("id" serial primary key, "email" character varying(255), "password_hash" character varying(255), "password_salt" character varying(255), "question" character varying(500), "answer" character varying(255), "string" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091203082733')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePractitioners (20091204004521)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "practitioners" ("id" serial primary key, "username" character varying(255), "email" character varying(255), "password_hash" character varying(255), "password_salt" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091204004521')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPractitionerToBookings (20091204005002)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "bookings" ADD COLUMN "practitioner_id" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091204005002')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddNameToPractitioners (20091204062800)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "practitioners" ADD COLUMN "first_name" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "practitioners" ADD COLUMN "last_name" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091204062800')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20091127004622)
Migrating to CreateClients (20091203082733)
Migrating to CreatePractitioners (20091204004521)
Migrating to AddPractitionerToBookings (20091204005002)
Migrating to AddNameToPractitioners (20091204062800)
Migrating to AddPhoneToClients (20091207045322)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (22.0ms)[0m   [0;1mALTER TABLE "clients" ADD COLUMN "phone_prefix" character varying(3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "clients" ADD COLUMN "phone_suffix" character varying(10)[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207045322')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.1ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.3ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (23.5ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:15:35.276597', '2009-12-07 05:15:35.276597', NULL, NULL, E'fdbf8765eeab4ad7cfc7072d3c8dd48ab8bfc5cd', NULL, NULL, E'aecfd5ab3e756b6eb77f6d1e344cdd026fecca27', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:15:35.311058', '2009-12-07 05:15:35.311058', NULL, NULL, E'59fb3d117f9076f20e6ca09d733ff3b9f3d1e509', NULL, NULL, E'cf285f9e92cbc02da3e49d9fdb533059b566dd95', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:15:35.318192', '2009-12-07 05:15:35.318192', NULL, NULL, E'bdf3f09951cc957869682440e3a5e5b944851637', NULL, NULL, E'c54cf1c9dd60b62fa294ae3a9b1fb5f78f9f4c11', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:15:35.326564', '2009-12-07 05:15:35.326564', E'88 876-23/13', E'0 2-1/', E'01fb7495db9206e11df5214d7ca845adcff88c6d', NULL, NULL, E'e7faf551431d0fb9e3d0ec57252d213a19d3fbdb', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:15:35.332825', '2009-12-07 05:15:35.332825', NULL, NULL, E'3fac5a34b3af895ae39636ee721882f445e94a35', NULL, NULL, E'cd6adfc44982c85df42587416dbacb891ad88672', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:15:35.365911', '2009-12-07 05:15:35.365911', NULL, NULL, E'52310fe406bd97b3c2f668a4da83255ecbbf2c21', NULL, NULL, E'9bfed8a68caa855fa039940132ea81d123fb9100', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:34.520262', '2009-12-07 05:17:34.520262', NULL, NULL, E'7994fd14cc261929df8c5e301fa620dea02ee12c', NULL, NULL, E'd7fef93eeec4026484451933968f4a314ee285ad', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:34.531082', '2009-12-07 05:17:34.531082', NULL, NULL, E'25639c1474486241959ddc5d73f8fce3dfa99b9b', NULL, NULL, E'37054719c187565079b7276eb4a695316e0d5240', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:34.538271', '2009-12-07 05:17:34.538271', NULL, NULL, E'f3a0318e93a18e19811bde7468d81c2bb07569b7', NULL, NULL, E'f4505d38e5f2379ef5d4266df7fb0c67be02a014', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:34.547606', '2009-12-07 05:17:34.547606', E'88 876-23/13', E'0 2-1/', E'9160f8adeff38e97653f7e0c9ae140b9ac5c44db', NULL, NULL, E'7b3713429a6ed67c4e7ff4c0910723af1d54c9a0', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:34.553628', '2009-12-07 05:17:34.553628', NULL, NULL, E'a9cdac98f755492c3d8b58c9181e9404d3824883', NULL, NULL, E'2984f31deeffcbcd8b910dac9a8eb805a7929b9c', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:34.574397', '2009-12-07 05:17:34.574397', NULL, NULL, E'aedf0b0c761ad645f10963de69a5595abc1d2540', NULL, NULL, E'5a74be25a99c60d1f9cbb85146f6f714cf43e8c9', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:55.195712', '2009-12-07 05:17:55.195712', NULL, NULL, E'1c6a0442299ddd42d9e80e585b095fb134221a56', NULL, NULL, E'290cb707c29f8b601f157baf9ed4a119eb7a92e0', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:55.206783', '2009-12-07 05:17:55.206783', NULL, NULL, E'0dcaf45d8676e9dbe19e96e3de50c789fbd44efa', NULL, NULL, E'6b8a49a4ab6b48e70eb3cc9e185ec509bdfd9060', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:55.213814', '2009-12-07 05:17:55.213814', NULL, NULL, E'ac2216e7c3f50cf4817291e8c9749426b249543e', NULL, NULL, E'b1672d8df1dcbd07f029709c034bf0e90b708e51', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:55.222234', '2009-12-07 05:17:55.222234', E'88 876-23/13', E'0 2-1/', E'0c46262ea85f4bcde2f82d5dc2a68ba3b6ee1d2e', NULL, NULL, E'bee6f8f95772f2ce44da05736626665e74ccdb10', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:55.228137', '2009-12-07 05:17:55.228137', NULL, NULL, E'aae6a159d8b30f5a162ed5f541bc9d3446831607', NULL, NULL, E'5b47399d8bfc93489069a29b1bb25df17390ef98', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.1ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:17:55.247598', '2009-12-07 05:17:55.247598', NULL, NULL, E'9ecd12158b2313d6a83289c4044b032c91d1de97', NULL, NULL, E'0d0c5cb4670b6580c90d00698b78cae70ee91478', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:22.756889', '2009-12-07 05:19:22.756889', NULL, NULL, E'3a699f82bec882441bdcff5ba0df885f6d5124c9', NULL, NULL, E'5c9564a668741d6c9431a8414b17dea32cf0bd47', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:22.767693', '2009-12-07 05:19:22.767693', NULL, NULL, E'0c8aa95e8ba06f78e714842f3056aef25d287396', NULL, NULL, E'f3bad8b35cc20f5d7468912564ab0badf8143b7c', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:22.774890', '2009-12-07 05:19:22.774890', NULL, NULL, E'cb9128e5d7e0c214fe2544728cb15a971488a687', NULL, NULL, E'5844e388b67fd544db742242ae0e7189141b1314', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:22.783642', '2009-12-07 05:19:22.783642', E'88 876-23/13', E'0 2-1/', E'0609080197b6825729201ed66294dd2ba1dbc8a5', NULL, NULL, E'7f3232b4cde6927877344aa2a823ecbc346d1a09', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:22.789266', '2009-12-07 05:19:22.789266', NULL, NULL, E'3ecdedb733eb7c39103cd0a83ebd88c1da8c0f41', NULL, NULL, E'546d2f97500c2f46dff108c67cf07bc2290df799', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:22.809174', '2009-12-07 05:19:22.809174', NULL, NULL, E'db3148df4ad54f8e6c223d093a3a4453ed05a375', NULL, NULL, E'e728040d6e9c5fef5463a6f886f0c1975baddc1b', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:41.854809', '2009-12-07 05:19:41.854809', NULL, NULL, E'f85a0dd171502878e2a2b17a922b898e865f51f5', NULL, NULL, E'587ad6a42b95a6b26ce04e9c89145350fd77a2ef', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:41.866446', '2009-12-07 05:19:41.866446', NULL, NULL, E'870a645110d195960588de096595f4b560188f01', NULL, NULL, E'775a3c347082ca78024430e02df5eca487f04227', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:41.871816', '2009-12-07 05:19:41.871816', E'88 876-23/13', E'0 2-1/', E'0c833b0f0bc40c0146613d9f0ad6c344c62e8d7b', NULL, NULL, E'9ae7ec8e04b774fb0fd7c78d9e682bab4e03b3eb', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:41.877556', '2009-12-07 05:19:41.877556', NULL, NULL, E'f795c6b6a0c1528cdeee360e268016406cb5d2ec', NULL, NULL, E'3268be63b8c1e632e9c50a7ca55461f284a70b83', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:19:41.899778', '2009-12-07 05:19:41.899778', NULL, NULL, E'5df9080ca457a9bd2e506e38994127bbe7999864', NULL, NULL, E'cdbe736877879058958765b2c72845fd16038069', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:14.320197', '2009-12-07 05:21:14.320197', NULL, NULL, E'5da1af5fbca554ec20da8c47abec0d645750fec0', NULL, NULL, E'ff68be0ed6a809e49fd7e58d12b8dc31ad59e4c8', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:14.331691', '2009-12-07 05:21:14.331691', NULL, NULL, E'29d8f81f8fbbe75e9e213486c5cb189b51067405', NULL, NULL, E'3b88f7128dde89bebc17858efd32cf0857f7efdc', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:14.338443', '2009-12-07 05:21:14.338443', E'88 876-23/13', E'0 2-1/', E'6776fcffe4a2bedac36c81e6f1c7acfeb6893974', NULL, NULL, E'3ef3dfa101bb38a2e5449ae9a2b198bf081f7290', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:14.345024', '2009-12-07 05:21:14.345024', NULL, NULL, E'3b1612b4af80c5933f9c40e6a652f81d3c2104b5', NULL, NULL, E'7fd787f30d14bdefd88c36df6684891636e19485', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (1.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:14.366533', '2009-12-07 05:21:14.366533', NULL, NULL, E'04bd583b195e52d9cc2cf96ea5952e94c5ae271e', NULL, NULL, E'222d9b755b908a3c2b38edf715a63d89566fbed6', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(3)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:23.981917', '2009-12-07 05:21:23.981917', E'88 876-23/13', E'0 2-1/', E'1e48279d29a703bb41e1f137bf2470e3e5f41c71', NULL, NULL, E'ebe3ee7ee4b469e32a30c2339d8185c1b2f4e715', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:21:46.449696', '2009-12-07 05:21:46.449696', E'888762313', E'021', E'4c9e8dfed756d0a16c8d42c99f79108cb4c1a5f0', NULL, NULL, E'be7a354df58ea94130b3a91de728ee85ef78eae8', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:22:07.397986', '2009-12-07 05:22:07.397986', E'888762313', E'021', E'be37926cbcf0effdbed2afa5ba166be6496171df', NULL, NULL, E'1ae94fec25a743443288cd6930b95ed63ebd1492', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:23:28.855908', '2009-12-07 05:23:28.855908', E'888762313', E'021', E'ec0aad0da8c5516d66a35009549c55f89fb38f54', NULL, NULL, E'46a8d26d35a8329fef7e8aac3b657d3a23dbda32', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:23:44.548416', '2009-12-07 05:23:44.548416', E'888762313', E'021', E'a362b295202886fde1d3bb9196ecda95b683af61', NULL, NULL, E'8b26bab3cf4e436afe8dddb6c0b8df64ae9949b4', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:23:51.693566', '2009-12-07 05:23:51.693566', E'888762313', E'021', E'dc5782e58e853a349b854d235bd001dc98f16df6', NULL, NULL, E'63dfabb1f8391170b016d00aa97918c86e138222', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:24:25.710547', '2009-12-07 05:24:25.710547', E'888762313', E'021', E'a603bd01967704b78c253e3d8848c7fb088194a6', NULL, NULL, E'392a6a7ce5b2bcec5dbbb9e0f99c49431da08c46', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: value too long for type character varying(10)
: INSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:24:32.645533', '2009-12-07 05:24:32.645533', E'888762313567', E'021', E'5e0d34bc24a639aac596bb6d45401d724450a779', NULL, NULL, E'98d48fca0ff02ab8d5d1dd026fb320309f270502', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 05:24:58.134325', '2009-12-07 05:24:58.134325', E'8887623135', E'021', E'51a0c6adb9b8934241f105eba0ccfb3f61ea9417', NULL, NULL, E'a77fa1d6028623a73f40272cdb9f8fe6b02520bd', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#new (for 0.0.0.0 at 2009-12-07 18:25:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering clients/new
Completed in 20ms (View: 15, DB: 9) | 200 OK [http://test.host/signup]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 18:26:35) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" IS NULL) LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 18:27:35) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" IS NULL) LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 18:29:47) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 18:32:12) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 14ms (View: 9, DB: 8) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.467772', '2009-12-07 08:03:37.467772', NULL, NULL, E'4d6666298369d6a2405d24cc7f0aae3e4f7e8f80', NULL, NULL, E'a1b9b8ed5c52236ca5a17d3f2662be3932f56b0e', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.479120', '2009-12-07 08:03:37.479120', NULL, NULL, E'4901a2e5aa22ae7d08d5d1b20b7c607a36b0f513', NULL, NULL, E'e755c6f82e87b7251be2a113ecfa647c65674af3', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.484431', '2009-12-07 08:03:37.484431', E'888762313', E'021', E'95e93b012737fbdb5b4ea975e068b35850c73ba3', NULL, NULL, E'1e7f27771a7f59e274d3b4d4ee5af4985a730a41', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.491349', '2009-12-07 08:03:37.491349', NULL, NULL, E'f04bd03b6d50120338cd16e05d6df63a95c33df1', NULL, NULL, E'83771ae666a4328b9d0fed168d1441e45d5bfb59', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.496465', '2009-12-07 08:03:37.496465', E'888762313', E'021', E'3cc389b15425b770aa380c36f695f4ce39ad4fd5', NULL, NULL, E'af719678e8375d9f0462adb8607a4f554ed5f3cf', E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.501183', '2009-12-07 08:03:37.501183', E'8887623135', E'021', E'b41f01a3e965271a120dbe7ebcc2ec0640e7b0dd', NULL, NULL, E'9aa89466362775a160de797463c22efab3db762a', E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.1ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 08:03:37.521888', '2009-12-07 08:03:37.521888', NULL, NULL, E'72c54f05a9f9682361b98c882f575dbcc2a523b6', NULL, NULL, E'641fa6afce64866a223d4715d383b0f62a76de61', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES('2009-12-07 08:03:37.533068', '2009-12-07 08:03:37.533068', E'foobar', E'cf1a1cc1377d67f5bd9d344d5a58f06573f370b8', NULL, E'8d17d13ceaa9dd12c8ffe5a01bd905992f098431', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES('2009-12-07 08:03:37.547507', '2009-12-07 08:03:37.547507', E'foo', E'ab48c3fc0054ccf2bab4d33121dd0a4767c66c0e', NULL, E'1bfa9cfbfa39bcb8b6926b52488de8b5acf43958', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "practitioners" ("created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES('2009-12-07 08:03:37.557000', '2009-12-07 08:03:37.557000', E'foobar', E'0d1785eb15cec622eb090822a7ad252899dd9258', NULL, E'ec823d9577d82748c6618296c4b01945fdd3424c', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES('2009-12-07 08:03:37.564902', '2009-12-07 08:03:37.564902', E'foo', E'b8e2ac0591c833cc875fd8b203883206cd8a2aeb', NULL, E'5bbe78c3efd724663cbec4dd6001ebf167248fe2', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO "practitioners" ("created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES('2009-12-07 08:03:37.602979', '2009-12-07 08:03:37.602979', E'foo', E'1d8c26db14124933dd6b07e90334a11dda85a3cc', NULL, E'87a94fac1087710f0b06079cafef4214f00e2fd3', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES('2009-12-07 08:03:37.614157', '2009-12-07 08:03:37.614157', E'uniquename', E'ac51cf34efde3515d80c76634b808c12dc39641a', NULL, E'073efbb3d4d3164ccc28a49ce84043d2d34a864f', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM "bookings" LIMIT 1[0m


Processing BookingsController#destroy (for 0.0.0.0 at 2009-12-07 21:03:38) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>#<Booking id: 1538779612, starts_at: "2009-12-07 22:03:38", ends_at: "2009-12-07 23:03:38", name: "Pending", client_id: 2071878929, created_at: "2009-12-07 08:03:38", updated_at: "2009-12-07 08:03:38", practitioner_id: 1819705844>, "controller"=>"bookings"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1538779612) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBooking Destroy (0.3ms)[0m   [0mDELETE FROM "bookings" WHERE "id" = 1538779612[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" LIMIT 1[0m


Processing BookingsController#edit (for 0.0.0.0 at 2009-12-07 21:03:38) [GET]
  Parameters: {"action"=>"edit", "id"=>#<Booking id: 1538779612, starts_at: "2009-12-07 22:03:38", ends_at: "2009-12-07 23:03:38", name: "Pending", client_id: 2071878929, created_at: "2009-12-07 08:03:38", updated_at: "2009-12-07 08:03:38", practitioner_id: 1819705844>, "controller"=>"bookings"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1538779612) [0m
Rendering template within layouts/application
Rendering bookings/edit
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing BookingsController#index (for 0.0.0.0 at 2009-12-07 21:03:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"bookings"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" [0m
Rendering template within layouts/application
Rendering bookings/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing BookingsController#new (for 0.0.0.0 at 2009-12-07 21:03:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"bookings"}
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering bookings/new
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" LIMIT 1[0m


Processing BookingsController#show (for 0.0.0.0 at 2009-12-07 21:03:39) [GET]
  Parameters: {"action"=>"show", "id"=>#<Booking id: 1538779612, starts_at: "2009-12-07 22:03:38", ends_at: "2009-12-07 23:03:38", name: "Pending", client_id: 2071878929, created_at: "2009-12-07 08:03:38", updated_at: "2009-12-07 08:03:38", practitioner_id: 1819705844>, "controller"=>"bookings"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1538779612) [0m
Rendering template within layouts/application
Rendering bookings/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:03:39) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 85ms (View: 8, DB: 2) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-07 21:03:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/new
Completed in 10ms (View: 7, DB: 1) | 200 OK [http://test.host/signup]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-07 21:03:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:04:19) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 13ms (View: 9, DB: 7) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:07:14) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 13ms (View: 9, DB: 7) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:08:27) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 14ms (View: 9, DB: 7) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 21:08:40) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:08:40) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 11ms (View: 9, DB: 10) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:14:16) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 13ms (View: 9, DB: 9) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:14:38) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 13ms (View: 9, DB: 8) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:14:55) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 14ms (View: 9, DB: 8) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 21:16:16) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 7) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:16:16) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 21:17:08) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:17:08) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 21:17:08) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 21:17:30) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 7) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 21:17:30) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 21:17:30) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 22:37:13) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 70) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:37:13) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.8ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-07 22:37:13) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (26.1ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:40:03.763835', '2009-12-07 09:40:03.763835', NULL, NULL, E'3cc6361b096e42ae62569e91d536acdd2fb3f123', NULL, NULL, E'857bcfd3de09464f40b3c21eae2fde5a15f4b050', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:40:03) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:42:11.607302', '2009-12-07 09:42:11.607302', NULL, NULL, E'c320620c13bf66832b7112d21b1a33620f93aaf6', NULL, NULL, E'b622ed0f0ef7648a3065f94dd82dd2c09b0dd509', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:42:11) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:42:24.160677', '2009-12-07 09:42:24.160677', NULL, NULL, E'fc29617e98dc2a9e99fa862fd76b770e13a69b77', NULL, NULL, E'fcbfee3d380a72f1ea98cb14686243a809010703', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:42:24) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:43:35.440465', '2009-12-07 09:43:35.440465', NULL, NULL, E'6d660ba40be7234af1d5e4e2282fec31a720a10d', NULL, NULL, E'd382f7366c7d116942d54dcbd45d0c82f2f5762b', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:43:35) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
Redirected to http://test.host/
Completed in 4ms (DB: 8) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:52:01.752818', '2009-12-07 09:52:01.752818', NULL, NULL, E'a39c23320c8413a21431d0fa2833ccf48525bbd2', NULL, NULL, E'7dc5835fe9e6ef78a642a3470107b80d50976374', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:52:01) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:52:18.333610', '2009-12-07 09:52:18.333610', NULL, NULL, E'da5e605aa523bddbfd3b4dc6646404d465b51773', NULL, NULL, E'cb5b0cc0a18b68b0b82b103400e13b10d3476276', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:52:18) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
Redirected to http://test.host/
Completed in 4ms (DB: 7) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "email", "answer") VALUES('2009-12-07 09:53:28.542943', '2009-12-07 09:53:28.542943', NULL, NULL, E'03e0556950e78869f434c48dfe18770e0b844876', NULL, NULL, E'5d3ef9efedb78f7d551a242bedfeb840c4ed095a', E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-07 22:53:28) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
Redirected to http://test.host/
Completed in 4ms (DB: 8) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20091127004622)
Migrating to CreateClients (20091203082733)
Migrating to CreatePractitioners (20091204004521)
Migrating to AddPractitionerToBookings (20091204005002)
Migrating to AddNameToPractitioners (20091204062800)
Migrating to AddPhoneToClients (20091207045322)
Migrating to CreateClientEmails (20091207181506)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (53.1ms)[0m   [0;1mCREATE TABLE "client_emails" ("id" serial primary key, "client_id" integer, "email_type" character varying(255), "sent_at" timestamp, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091207181506')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20091127004622)
Migrating to CreateClients (20091203082733)
Migrating to CreatePractitioners (20091204004521)
Migrating to AddPractitionerToBookings (20091204005002)
Migrating to AddNameToPractitioners (20091204062800)
Migrating to AddPhoneToClients (20091207045322)
Migrating to CreateClientEmails (20091207181506)
Migrating to AddResetCodeToClients (20091207182644)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mALTER TABLE "clients" ADD COLUMN "reset_code" character varying(40)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091207182644')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:28:52.656072', '2009-12-07 18:28:52.656072', NULL, NULL, E'777b2634ca9534b31a6dd046b3b27f13693211b1', NULL, NULL, E'599304be27fdab626fceeaf268fadba921fdcf07', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:28:52) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:29:22.184751', '2009-12-07 18:29:22.184751', NULL, NULL, E'1a788c4b6a5360f60ff7380d3b739365bef3fc11', NULL, NULL, E'e5c1096b64d514848a174850607c43e78bfefe2a', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:29:22) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:31:39.419775', '2009-12-07 18:31:39.419775', NULL, NULL, E'7333fc3050f7dc9088a5ad41e8e778cb1e2480cd', NULL, NULL, E'b8423c6a1cbd4bcb1fd529b7b3435cae56544014', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:31:39) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 18:31:39.451815', '2009-12-07 18:31:39.451815', 2071878930, '2009-12-07 18:31:39.429301', E'reset_phone_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:33:11.048902', '2009-12-07 18:33:11.048902', NULL, NULL, E'8abe1c3a8ec2ee32d48568fd8b6e45c9c8395df1', NULL, NULL, E'5fce1b4c30a1a34d5857e20172c6e7e2131c5d33', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:33:11) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 18:33:11.072881', '2009-12-07 18:33:11.072881', 2071878930, '2009-12-07 18:33:11.059646', E'reset_phone_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:34:09.157276', '2009-12-07 18:34:09.157276', NULL, NULL, E'652e4d8fd29de945d8eb9a3182b350010f0e10b4', NULL, NULL, E'a4ae7273b6af7d15cb3dc9fece039bc402015c87', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:34:09) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 18:34:09.180161', '2009-12-07 18:34:09.180161', 2071878930, '2009-12-07 18:34:09.166854', E'reset_phone_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:34:29.171875', '2009-12-07 18:34:29.171875', NULL, NULL, E'132fbe0c0b65d3153eca635e71b474434266a4d5', NULL, NULL, E'd7c4b6598addbce98a6746bc5a0ecc800a128a38', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:34:29) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:34:45.007665', '2009-12-07 18:34:45.007665', NULL, NULL, E'3d14e369ab9dbfe892810340ca52efb506f5160b', NULL, NULL, E'ccb80f8b31a13bfe97d1fcb930673395fb2dc84e', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:34:45) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 18:34:45.030889', '2009-12-07 18:34:45.030889', 2071878930, '2009-12-07 18:34:45.017241', E'reset_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 18:34:56.564040', '2009-12-07 18:34:56.564040', NULL, NULL, E'588187d463c9c7ed3a12d036ce055acf2dddc567', NULL, NULL, E'c426b63174348ecc2ad245f53e65c96dc76e5a0e', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 07:34:56) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 18:34:56.587037', '2009-12-07 18:34:56.587037', 2071878930, '2009-12-07 18:34:56.573856', E'reset_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 07:34:56 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/reset_phone
Redirected to http://test.host/
Completed in 28ms (DB: 11) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateBookings (20091127004622)
Migrating to CreateClients (20091203082733)
Migrating to CreatePractitioners (20091204004521)
Migrating to AddPractitionerToBookings (20091204005002)
Migrating to AddNameToPractitioners (20091204062800)
Migrating to AddPhoneToClients (20091207045322)
Migrating to CreateClientEmails (20091207181506)
Migrating to AddResetCodeToClients (20091207182644)
Migrating to AddPermalinkToPractitioners (20091207184150)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mALTER TABLE "practitioners" ADD COLUMN "permalink" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091207184150')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 08:11:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.5ms)
Completed in 14ms (View: 11, DB: 42) | 200 OK [http://test.host/practitioners/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 08:11:57) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.7ms)
Rendered clients/_login_info (0.6ms)
Completed in 12ms (View: 9, DB: 8) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 08:11:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 08:24:54) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.5ms)
Rendered clients/_login_info (0.5ms)
Completed in 12ms (View: 9, DB: 7) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 08:24:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 08:24:55) [POST]
  Parameters: {"practitioner_id"=>"david-savage", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 08:25:39) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.6ms)
Rendered clients/_login_info (0.5ms)
Completed in 12ms (View: 9, DB: 8) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 08:25:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 08:25:39) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/david-savage/lookup_form
Completed in 2ms (DB: 1) | 302 Found [http://test.host/edit_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 08:37:31) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 4ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 08:37:31) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 19:37:31.440196', '2009-12-07 19:37:31.440196', NULL, NULL, E'6de6b552e42e29c0cbc897f672bf356079ef5a69', NULL, NULL, E'68bd6cbf5d156c28b7593b68c9d5fefeb184bd24', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 08:37:31) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 19:37:31.474836', '2009-12-07 19:37:31.474836', 2071878930, '2009-12-07 19:37:31.446039', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 08:37:31 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/reset_phone
Redirected to http://test.host/
Completed in 44ms (DB: 2) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 08:37:31) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 08:38:26) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 4ms (DB: 10) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 08:38:26) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-07 19:38:26.429988', '2009-12-07 19:38:26.429988', NULL, NULL, E'1c9e125d904c7ca140f158ddb7a34d2bdbe630ef', NULL, NULL, E'488b7a5dd529ee2f49f275077970a7deb5cffdb3', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 08:38:26) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-07 19:38:26.450260', '2009-12-07 19:38:26.450260', 2071878930, '2009-12-07 19:38:26.436614', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 08:38:26 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/reset_phone
Redirected to http://test.host/
Completed in 26ms (DB: 2) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 08:38:26) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 08:38:26) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://test.host/blabla/lookup_form]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 08:38:41) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.5ms)
Completed in 12ms (View: 10, DB: 6) | 200 OK [http://test.host/blabla/lookup_form]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 08:39:18) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
  [4;35;1mPractitioner Load (1.0ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'blabla') LIMIT 1[0m
Redirected to http://test.host/edit_selected_practitioner
Filter chain halted as [:require_selected_practitioner] rendered_or_redirected.
Completed in 1422ms (DB: 8) | 302 Found [http://test.host/blabla/lookup_form]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 08:40:08) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.7ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'blabla') LIMIT 1[0m
Redirected to http://test.host/edit_selected_practitioner
Filter chain halted as [:require_selected_practitioner] rendered_or_redirected.
Completed in 2ms (DB: 7) | 302 Found [http://test.host/blabla/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 16:40:07) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (4.3ms)
Rendered clients/_login_info (0.6ms)
Completed in 22ms (View: 19, DB: 139) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 16:40:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 8ms (View: 8, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.7ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 16:40:07) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/david-savage/lookup_form
Completed in 2ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.3ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.214663', '2009-12-08 03:40:23.214663', NULL, NULL, E'1920268341535fdc89530cd77f638452a64ca9aa', NULL, NULL, E'16502cd5b9a5eb8f926ef6d63c92e5b41fa4d293', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.232085', '2009-12-08 03:40:23.232085', NULL, NULL, E'7c078cb514d4988bb906d27d5526af1a60e1aa6d', NULL, NULL, E'530bd98240961e4f74c22e84ac268a8f43981000', NULL, E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.240256', '2009-12-08 03:40:23.240256', E'888762313', E'021', E'645677021241b62bd78c0d4d8b4e3912c755ea40', NULL, NULL, E'86edc17190d3b496fb39804c982b4b7fd69f1956', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.248497', '2009-12-08 03:40:23.248497', NULL, NULL, E'b33fb15e2087d45f152fdbf5e9b2ee32dcd2d71a', NULL, NULL, E'e20865aac51ce4519e618782997dbc5e544972f2', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.256004', '2009-12-08 03:40:23.256004', E'888762313', E'021', E'289b3cca702c26a5126862d6d24a5b8a0af11f3c', NULL, NULL, E'647961a8609f6fbb07ae0ba62e5a37674e498aeb', NULL, E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.261798', '2009-12-08 03:40:23.261798', E'8887623135', E'021', E'6f321c37da507a635e3988ecba251ca080b35de1', NULL, NULL, E'418bd5b4fcd30100ee938e7721675b1b2a64dbce', NULL, E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (1.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.8ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:23.288486', '2009-12-08 03:40:23.288486', NULL, NULL, E'c49e9c8468aa1a10c43b698d0ca1f56a2cfa310e', NULL, NULL, E'da4ad0603a2d78794ac3c1ed588447ebe96a5539', NULL, E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:40:23.531219', '2009-12-08 03:40:23.531219', E'foobar', E'd836c409cfb0314d61d4e1f4126adcb5cf2efe23', NULL, E'42c1c61d062f4fc151d959390cd5b270fe5f7376', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:40:23.547255', '2009-12-08 03:40:23.547255', E'foo', E'c96cbb570a9531ba6fd38032cfc21d62dd90f8ce', NULL, E'1cf8f15ccc0ab13374eaf3dc6eb923ad7ad3d623', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:40:23.559969', '2009-12-08 03:40:23.559969', E'foobar', E'd43aeeb9ed6f0e5e330d5cc81b8eb4806deb3113', NULL, E'17b5c8a04b7f0b104c15d9c6cc67ba6fa2a4e87a', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (1.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:40:23.571449', '2009-12-08 03:40:23.571449', E'foo', E'ccdffba4ae4c16a719a3e930e1e513a15c77a463', NULL, E'df907cc04175d9a88fd4363f0c2671e67e8d5fa3', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.5ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:40:23.612635', '2009-12-08 03:40:23.612635', E'foo', E'b10323d54c24a7e45413030a4978a5b09435f7f8', NULL, E'822ae8cfdb5f6acc204a219d98f8f4c57542a4d3', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.3ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.5ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:40:23.625904', '2009-12-08 03:40:23.625904', E'uniquename', E'2bae1e122db119d2bbc15ac1d38b94b8f07ec39e', NULL, E'7e627006f10d4f4c042f1ab53c583d56f487a192', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" LIMIT 1[0m


Processing BookingsController#destroy (for 0.0.0.0 at 2009-12-08 16:40:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>#<Booking id: 1538779612, starts_at: "2009-12-08 17:40:25", ends_at: "2009-12-08 18:40:25", name: "Pending", client_id: 2071878929, created_at: "2009-12-08 03:40:25", updated_at: "2009-12-08 03:40:25", practitioner_id: 1819705844>, "controller"=>"bookings"}
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1538779612) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBooking Destroy (0.2ms)[0m   [0;1mDELETE FROM "bookings" WHERE "id" = 1538779612[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM "bookings" LIMIT 1[0m


Processing BookingsController#edit (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"edit", "id"=>#<Booking id: 1538779612, starts_at: "2009-12-08 17:40:25", ends_at: "2009-12-08 18:40:25", name: "Pending", client_id: 2071878929, created_at: "2009-12-08 03:40:25", updated_at: "2009-12-08 03:40:25", practitioner_id: 1819705844>, "controller"=>"bookings"}
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1538779612) [0m
Rendering template within layouts/application
Rendering bookings/edit
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m


Processing BookingsController#index (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"bookings"}
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM "bookings" [0m
Rendering template within layouts/application
Rendering bookings/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m


Processing BookingsController#new (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"bookings"}
Rendering template within layouts/application
Rendering bookings/new
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM "bookings" LIMIT 1[0m


Processing BookingsController#show (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"show", "id"=>#<Booking id: 1538779612, starts_at: "2009-12-08 17:40:25", ends_at: "2009-12-08 18:40:25", name: "Pending", client_id: 2071878929, created_at: "2009-12-08 03:40:25", updated_at: "2009-12-08 03:40:25", practitioner_id: 1819705844>, "controller"=>"bookings"}
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM "bookings" WHERE ("bookings"."id" = 1538779612) [0m
Rendering template within layouts/application
Rendering bookings/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:40:25) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (1.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 7ms (DB: 2) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.6ms)
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:40:25.542145', '2009-12-08 03:40:25.542145', NULL, NULL, E'24a3c89b87dc86745e9736c80fa74d44f4c631a8', NULL, NULL, E'56209f576637ee69b376e272d25cfcef3a340ef2', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.5ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 03:40:25.551213', "reset_code" = E'6af1151e5f655071736e9f97bcb15ee5f7744c99' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 03:40:25.608529', '2009-12-08 03:40:25.608529', 2071878930, '2009-12-08 03:40:25.554073', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:40:25) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 4) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'blabla') LIMIT 1[0m
Redirected to http://test.host/edit_selected_practitioner
Filter chain halted as [:require_selected_practitioner] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://test.host/blabla/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.2ms)
Rendered clients/_login_info (0.1ms)
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 8ms (View: 8, DB: 2) | 200 OK [http://test.host/practitioners/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 16:40:25) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.5ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/david-savage/lookup_form
Completed in 2ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-08 16:40:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Rendered clients/_login_info (0.1ms)
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.920592', '2009-12-08 03:44:26.920592', NULL, NULL, E'e67972674a7c54fcba968c339b1e37564c88a6c8', NULL, NULL, E'cff7465bd28443499e6d6b027b3d4325c0cc02a5', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.931615', '2009-12-08 03:44:26.931615', NULL, NULL, E'e9924d1b5097bdd79f9982290acd90ad36bee7b0', NULL, NULL, E'b2af37fd850d00d3e089cb69d2b64180e7ab655b', NULL, E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.937530', '2009-12-08 03:44:26.937530', E'888762313', E'021', E'dae6c28fb5f35bed6eee7596d9256ca77301ebf3', NULL, NULL, E'866a5d5a9c83d8dc966271d807a20651bed2ea81', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.944170', '2009-12-08 03:44:26.944170', NULL, NULL, E'430baafbe7954a2e1cbc7d468f0fb98af40804ee', NULL, NULL, E'3b29993495997ef50d20393dfe42fcc179a3df7f', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.949002', '2009-12-08 03:44:26.949002', E'888762313', E'021', E'b45fba0ed608af2b2676b62f7e6d8768590a2192', NULL, NULL, E'53443cb35f3eee56fc2cad2f1f9ae326a5eaf0ec', NULL, E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.3ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.954176', '2009-12-08 03:44:26.954176', E'8887623135', E'021', E'a8ea318bc57b865141c54630dba33bb9dcdecdf4', NULL, NULL, E'cfd0b86cec47108960c2afce6a2386a4fa6d8cf7', NULL, E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:26.975612', '2009-12-08 03:44:26.975612', NULL, NULL, E'88d9b800c1a18acce2e2230710999e3789b871df', NULL, NULL, E'5b44a25b4d0e608bdac1625730598d503f212d10', NULL, E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:27.141826', '2009-12-08 03:44:27.141826', E'foobar', E'f47487be9991b33af6dd2a61c31375fcdcb63666', NULL, E'b023da377a6e2d8f53a34926820d2fea5db09e1d', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:27.155245', '2009-12-08 03:44:27.155245', E'foo', E'00b3e0f8e63f09fd1c81f7cafb49db84b8587aeb', NULL, E'ca4f10d0ca4e297218559a8bca8920173264cf1f', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:27.164725', '2009-12-08 03:44:27.164725', E'foobar', E'164ef95bf42039345ce525e2eeef1b3d41de1d0a', NULL, E'095d3910c2c52871c5a96e7b0ff860b4047be520', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:27.173304', '2009-12-08 03:44:27.173304', E'foo', E'604b8a55690173d6ae61c390839e585504d2cb4a', NULL, E'7b919e4880eaa6060485ce7ab6cdf4ad7ff7b943', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:27.211234', '2009-12-08 03:44:27.211234', E'foo', E'0036bc451c6e705f1abb1ab5bdc93d60159e4444', NULL, E'49ede81cc6f57f5682bad03d251921c66d693cc2', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:27.222184', '2009-12-08 03:44:27.222184', E'uniquename', E'0e17b198abd41f8c82eca74406a8e9cd6be82b26', NULL, E'36e77b66b639e6e45a6510d760b1cbe0a087adaf', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:44:28) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"3654", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 4ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:28.604003', '2009-12-08 03:44:28.604003', NULL, NULL, E'8ba8965440e680b5ef5ce3004230da4303471f48', NULL, NULL, E'ac403c7521bd029bdfd2973c48f797d37ac693fc', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.8ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.4ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 03:44:28.613609', "reset_code" = E'8070368d54f645fdecdf5428a2115d90134679c7' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 03:44:28.629421', '2009-12-08 03:44:28.629421', 2071878930, '2009-12-08 03:44:28.615569', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:44:28) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"1234", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 4) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'blabla') LIMIT 1[0m
Redirected to http://test.host/edit_selected_practitioner
Filter chain halted as [:require_selected_practitioner] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/blabla/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.0ms)
Rendered clients/_login_info (0.1ms)
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 16:44:28) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/david-savage/lookup_form
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-08 16:44:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Rendered clients/_login_info (0.1ms)
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.296987', '2009-12-08 03:44:59.296987', NULL, NULL, E'0cc96ffed050ae5f32f45788713ac5d8b3722979', NULL, NULL, E'cc689fe9094c2c7139b9c5de5397b56c92d36eeb', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.308007', '2009-12-08 03:44:59.308007', NULL, NULL, E'f9a3d8dd4b6c49cb1fbb1d53b4dab13650bb70f1', NULL, NULL, E'c79feab1be7942455d7a9354f27e8eadb6339372', NULL, E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.314247', '2009-12-08 03:44:59.314247', E'888762313', E'021', E'346f54f185f72aa736038016ea0eb7fd69e72d6d', NULL, NULL, E'71ad92c1b66217b155009acb804caef0d1db7ed7', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.321383', '2009-12-08 03:44:59.321383', NULL, NULL, E'6168ea91f6682afd51baecefe15a355875602bdb', NULL, NULL, E'740b145ddf3563ff66be5f40a11411063a8311b0', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.326147', '2009-12-08 03:44:59.326147', E'888762313', E'021', E'd3642e1f4bcfe06b370a5b34c3351b7d8605185b', NULL, NULL, E'022882b318d90d6cb641a323f5c474527870079a', NULL, E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.331700', '2009-12-08 03:44:59.331700', E'8887623135', E'021', E'cffc7b1a52522440ed668ec6691c8894677f8930', NULL, NULL, E'8d1ad0debc8e0bb08d55ea7793a8085a19faabda', NULL, E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.3ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:44:59.353493', '2009-12-08 03:44:59.353493', NULL, NULL, E'31c83c2f3c88ac5cf5c4f968f051965b359aac4d', NULL, NULL, E'2cdd19079da297dd7ee55826535ea47f100dd6ce', NULL, E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:59.523203', '2009-12-08 03:44:59.523203', E'foobar', E'ffbc7bc2d554e1c2917616afef1b0da3ccb35246', NULL, E'5190808ecbbd701bf1c9c1b5a83a1854cec124c7', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:59.538057', '2009-12-08 03:44:59.538057', E'foo', E'e45084d6b2bd6a7597623a339a7d2222ad22dc0b', NULL, E'7b4a16cedcc8313ce5894601507a4d085f72a824', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:59.601864', '2009-12-08 03:44:59.601864', E'foobar', E'7f3c2271bbb8ef4562242da013c79a400b8c26e2', NULL, E'6b7e885a13644654c2487f8a4afcd86797346bfd', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:59.611848', '2009-12-08 03:44:59.611848', E'foo', E'246f8376a5aba1461f9ecd57b907e51d78e6b9fa', NULL, E'b4ffa2d82a431705ebb26e14bd1471beb622860d', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.9ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.3ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:59.652598', '2009-12-08 03:44:59.652598', E'foo', E'f6c6699dfe8ba65f7ffce2975dbbaf9c5c250164', NULL, E'3c5e1b37fad41287c12e3df1d6bd9b99da023e0f', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:44:59.664205', '2009-12-08 03:44:59.664205', E'uniquename', E'38d05414050dc09c20825988c53ef24b8d3293e4', NULL, E'0174a1c1b6467819ba46ea8b738789481044a3c2', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:45:01) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"3654", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 43) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:01.144188', '2009-12-08 03:45:01.144188', NULL, NULL, E'984b5aaa1c23029dcbcdf16113f72b48c24d3645', NULL, NULL, E'56639fbb4172aa2f35acb9d982ee08591d279b4a', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.9ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.4ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 03:45:01.153325', "reset_code" = E'ed3db0b905f229c1ac50240204d0ea21c6f64ec6' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 03:45:01.169205', '2009-12-08 03:45:01.169205', 2071878930, '2009-12-08 03:45:01.155299', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:45:01) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"1234", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 4) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'blabla') LIMIT 1[0m
Redirected to http://test.host/edit_selected_practitioner
Filter chain halted as [:require_selected_practitioner] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/blabla/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.0ms)
Rendered clients/_login_info (0.1ms)
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 16:45:01) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/david-savage/lookup_form
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-08 16:45:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Rendered clients/_login_info (0.1ms)
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.924028', '2009-12-08 03:45:31.924028', NULL, NULL, E'f2a32936935e85c23c0032f0c55da6c5416c993a', NULL, NULL, E'ea82b583915bad8da5d11d0d64b3f2cac1fdee37', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.935872', '2009-12-08 03:45:31.935872', NULL, NULL, E'5b495493f65d20a5feaff36463c5eb70b45c21df', NULL, NULL, E'3e3350bd9c54b3c6bfbc66c77e167af8cc3ce34d', NULL, E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.942097', '2009-12-08 03:45:31.942097', E'888762313', E'021', E'2ece0377bb814d59339aafa9c089e84f672a96af', NULL, NULL, E'0c2485bca0365a6f6a02b87536987c645615e775', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.948991', '2009-12-08 03:45:31.948991', NULL, NULL, E'5b7a0189c3642050f71c225a2ebb771247807e7b', NULL, NULL, E'a6479ed23d076d4032f66b8e9d5f53799f535dc2', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.954718', '2009-12-08 03:45:31.954718', E'888762313', E'021', E'7bdf8ca6802408233304c761bf976c66106d25e2', NULL, NULL, E'8ecec283644454c1a693d8c083cf0fc86ea8a004', NULL, E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.959593', '2009-12-08 03:45:31.959593', E'8887623135', E'021', E'95f9dfd6a2b3ac654fd72ce4fa63a14424cb996f', NULL, NULL, E'd10b82c0deb799261402d7496f4c27bf626625a3', NULL, E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:31.980447', '2009-12-08 03:45:31.980447', NULL, NULL, E'90c614a63df0986ea279e385dcdc226a7e515550', NULL, NULL, E'27df7390a0a070da69ae6e4dd603795964f21b4a', NULL, E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:45:32.148633', '2009-12-08 03:45:32.148633', E'foobar', E'd9d22cc2b7e3d9e94bbf2278c7919fd47ce9cce2', NULL, E'8c0c1fb5247baf718e67890481a001a5f5ab8bef', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:45:32.162485', '2009-12-08 03:45:32.162485', E'foo', E'a70e75a96e1f24fa80792850c09738ddc2de6769', NULL, E'98774bc8bb4c6623112a8e29c008370622d72426', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:45:32.172232', '2009-12-08 03:45:32.172232', E'foobar', E'434b249e7cc10bdae7db5aac19b8ab25344a28a8', NULL, E'fcee85b706362ab904ec8060a5f21cb1b48d65b6', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:45:32.180575', '2009-12-08 03:45:32.180575', E'foo', E'cc20ba2fe62f095d0c127d8b3623c7b3c7f77c03', NULL, E'fd8035e1d9162de4f0b0db298c6cb07d5973aec0', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:45:32.219913', '2009-12-08 03:45:32.219913', E'foo', E'e500fb350fe0671e25212b01f3f491a9f23f5acc', NULL, E'777e654e3a86d6dbb49791ed8f62231e4238a571', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 03:45:32.230761', '2009-12-08 03:45:32.230761', E'uniquename', E'8d99c3bd36849c83d027005cf5d98a3080a5871f', NULL, E'bdd3b4c1e10cb5a5abd3154bf6053d4b1df3e837', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:45:33) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"3654", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 4ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 03:45:33.634411', '2009-12-08 03:45:33.634411', NULL, NULL, E'18b246cb204bdfddc9afc895bd4f86ebc6ea80cf', NULL, NULL, E'0100537c409b8aeea1e2c0ca74d597ecf21fe6ff', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.9ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.3ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 03:45:33.643754', "reset_code" = E'96e3c240688e5928660c8ab9c973bd8100e2aeac' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 03:45:33.659879', '2009-12-08 03:45:33.659879', 2071878930, '2009-12-08 03:45:33.645435', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 16:45:33 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=96e3c240688e5928660c8ab9c973bd8100e2aeac
Redirected to http://test.host/
Completed in 32ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 16:45:33) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"1234", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'blabla') LIMIT 1[0m
Redirected to http://test.host/edit_selected_practitioner
Filter chain halted as [:require_selected_practitioner] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/blabla/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.0ms)
Rendered clients/_login_info (0.4ms)
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 16:45:33) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/david-savage/lookup_form
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-08 16:45:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Rendered clients/_login_info (0.1ms)
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.394873', '2009-12-08 08:52:37.394873', NULL, NULL, E'0b2aecf5be1ce6be23c6065af7e63cdc485f5b55', NULL, NULL, E'0f5f05d18705f465dd9c8fac6be7ee98556d983b', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.406822', '2009-12-08 08:52:37.406822', NULL, NULL, E'b461919eee7d5c10a8d88461318c66ff1776115c', NULL, NULL, E'0d6c0378a6438bc734b7a7f7f037a4297f7d1494', NULL, E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.412924', '2009-12-08 08:52:37.412924', E'888762313', E'021', E'0b8ead82973c7ca0f413520d7a2f7e9b0ae8a913', NULL, NULL, E'8c31da50da06db4edbd2652d459c159ff4573eb7', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.420559', '2009-12-08 08:52:37.420559', NULL, NULL, E'26f66c67d7be9de9938f5b9d0f897402851c5e75', NULL, NULL, E'ced92e9866bc04725194665bc4147c2c6c45a63d', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.425567', '2009-12-08 08:52:37.425567', E'888762313', E'021', E'0081f2cfcd1c34a91b909eedfaf601517160b9d7', NULL, NULL, E'65aa604a62d45cc0ab1e4718845ba3658a2cd3b3', NULL, E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.431772', '2009-12-08 08:52:37.431772', E'8887623135', E'021', E'71e6d6c778285ae8020aaad2654bed109fd4ef02', NULL, NULL, E'9c0a160cf0b6cce1bbf7b72681b97c484ced1c26', NULL, E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.3ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:37.453039', '2009-12-08 08:52:37.453039', NULL, NULL, E'ce13860ac1a656134b4bbe20863cb61f317ef697', NULL, NULL, E'8cd0ad0750ab42dc4511445bf0d036eecdceebd2', NULL, E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 08:52:37.638938', '2009-12-08 08:52:37.638938', E'foobar', E'09712ca51ebcc31d00d9cdaed238259490dd372a', NULL, E'750e799096a93008f19596fa4c6d19928cb402cc', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 08:52:37.652763', '2009-12-08 08:52:37.652763', E'foo', E'5da4ee5a2e88f25c15f1ecbbc812d1012a7c4b92', NULL, E'560d5b92654e659397bb440317576749e168b7d6', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 08:52:37.662470', '2009-12-08 08:52:37.662470', E'foobar', E'3419a84cb2bee8830adaf8bbd1eecdff18e4fbd8', NULL, E'22a274c0e46dc775d3b04eceb23ecc5b090bdcba', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 08:52:37.670533', '2009-12-08 08:52:37.670533', E'foo', E'7bdbb8f6e0551c3274fcb413757928b8499dafa0', NULL, E'41713d12ebb3948381b8fc1af09bbdb148dfb9ea', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.6ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.3ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 08:52:37.709460', '2009-12-08 08:52:37.709460', E'foo', E'1ce7daf0add23d82e062252f328b67798c905599', NULL, E'7978432aaf0f8430902c86a13da6e16cf8a46348', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 08:52:37.720590', '2009-12-08 08:52:37.720590', E'uniquename', E'80b732c8b54a23363d98c594bb36661b40d15086', NULL, E'9722f3e0c9dc3fb7f810fe2ce41a525e06105e7e', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 21:52:39) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 14) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (1.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.6ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 22ms (View: 20, DB: 2) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 08:52:39.164996', '2009-12-08 08:52:39.164996', NULL, NULL, E'1fa3b0ffb36fc2b9583af1bacad28d3eca860308', NULL, NULL, E'630e24840e8a2834b5aa99c8e84946392696a179', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.3ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 08:52:39.173233', "reset_code" = E'c6bd8f601cad94a9bd907ada61bac2b76707ea40' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 08:52:39.316260', '2009-12-08 08:52:39.316260', 2071878930, '2009-12-08 08:52:39.174851', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 21:52:39 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=c6bd8f601cad94a9bd907ada61bac2b76707ea40
Redirected to http://test.host/
Completed in 181ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 21:52:39) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (1.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 3ms (DB: 2) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form?practitioner_permalink=blabla]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.0ms)
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (1.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.3ms)
Completed in 9ms (View: 5, DB: 2) | 200 OK [http://test.host/practitioners/show?practitioner_permalink=david-savage]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 21:52:39) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/lookup_form?practitioner_permalink=david-savage
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-08 21:52:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://test.host/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 22:11:49) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.6ms)
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 11ms (View: 8, DB: 17) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 22:11:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 22:11:49) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.7ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 22:11:49) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 22:12:55) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.6ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.6ms)
Rendered clients/_login_info (0.4ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 12ms (View: 8, DB: 9) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 22:12:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 22:12:55) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.6ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 22:12:55) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 22:13:16) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.6ms)
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 11ms (View: 8, DB: 7) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 22:13:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 22:13:16) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.6ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 22:13:16) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/practitioners/david-savage
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 22:15:02) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.7ms)
Rendered clients/_login_info (0.4ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 11ms (View: 9, DB: 7) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 22:15:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 22:15:02) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (1.0ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 22:15:02) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/practitioners/david-savage
Completed in 2ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 22:18:03) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (3.7ms)
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 12ms (View: 9, DB: 8) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 22:18:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 22:18:03) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.6ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
Rendered clients/_login_info (2.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/practitioners/show?practitioner_permalink=david-savage]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 22:18:03) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/practitioners/david-savage
Completed in 1ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:19:14) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 4ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:19:14) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:19:14.721903', '2009-12-08 09:19:14.721903', NULL, NULL, E'4ff4d5019a29cd1c569cc4c2f9226a3a8b37fd48', NULL, NULL, E'095a460059eaddcd744eaba2e90194dbe619fe3d', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:19:14) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.2ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 09:19:14.731554', "reset_code" = E'24c84427742dd320a3c83f3bb6374facc27ef20c' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:19:14.803926', '2009-12-08 09:19:14.803926', 2071878930, '2009-12-08 09:19:14.732990', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:19:14 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=24c84427742dd320a3c83f3bb6374facc27ef20c
Redirected to http://test.host/
Completed in 91ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:19:14) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:19:14) [GET]
  Parameters: {"action"=>"lookup_form", "practitioner_permalink"=>"blabla", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form?practitioner_permalink=blabla]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:20:15) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 4ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:20:15) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.6ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:20:15.513821', '2009-12-08 09:20:15.513821', NULL, NULL, E'1613e7743374cdd8089e6d491d72a8445216fae2', NULL, NULL, E'4f90e76e13ce4883042e8984b12d89c6314bb404', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:20:15) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.3ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 09:20:15.521837', "reset_code" = E'85e71c3a55dc10fd425d0d1e24521247e6054a5a' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:20:15.537420', '2009-12-08 09:20:15.537420', 2071878930, '2009-12-08 09:20:15.523503', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:20:15 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=85e71c3a55dc10fd425d0d1e24521247e6054a5a
Redirected to http://test.host/
Completed in 29ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:20:15) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:20:15) [GET]
  Parameters: {"action"=>"lookup_form", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing ClientsController#client_login (for 0.0.0.0 at 2009-12-08 22:24:11) [POST]
  Parameters: {"action"=>"client_login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:24:11) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 3ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:24:11) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (1.0ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:24:11.058964', '2009-12-08 09:24:11.058964', NULL, NULL, E'a9dba9e10550869f9b12623cef0ab74cab4aa9e2', NULL, NULL, E'c38835f5de06405d15967f08a91ca2dfdb96fb52', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:24:11) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;36;1mClient Update (0.3ms)[0m   [0;1mUPDATE "clients" SET "updated_at" = '2009-12-08 09:24:11.068444', "reset_code" = E'40b4aa9cbfce69c85927ab1dc3eb0f3abf056afa' WHERE "id" = 2071878930[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:24:11.085184', '2009-12-08 09:24:11.085184', 2071878930, '2009-12-08 09:24:11.070157', E'reset_phone') RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:24:11 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=40b4aa9cbfce69c85927ab1dc3eb0f3abf056afa
Redirected to http://test.host/
Completed in 32ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:24:11) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:24:11) [GET]
  Parameters: {"action"=>"lookup_form", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/lookup_form]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:24:52) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"3654", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.8ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/clients/2071878929
Completed in 5ms (DB: 9) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:24:52) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:24:52.303768', '2009-12-08 09:24:52.303768', NULL, NULL, E'9ec22a5544ccf0314dbc7b42a5800ccf1c96f1dc', NULL, NULL, E'6905ee317cf9b2a1d70c390b28d51a4a86e10a19', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:24:52) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;35;1mClient Update (0.4ms)[0m   [0mUPDATE "clients" SET "updated_at" = '2009-12-08 09:24:52.311443', "reset_code" = E'cd6439932510b526dba0ecb852c773a02a835f96' WHERE "id" = 2071878930[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:24:52.327161', '2009-12-08 09:24:52.327161', 2071878930, '2009-12-08 09:24:52.313200', E'reset_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:24:52 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=cd6439932510b526dba0ecb852c773a02a835f96
Redirected to http://test.host/
Completed in 29ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:24:52) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"1234", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:24:52) [GET]
  Parameters: {"action"=>"lookup_form", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:25:54) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"3654", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/practitioners/david-savage
Completed in 4ms (DB: 8) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:25:54) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.5ms)
Rendered practitioners/_selected_pro_info (0.4ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:25:54.646976', '2009-12-08 09:25:54.646976', NULL, NULL, E'3bdb10a0e7ee38a9bbd33b23588fbdbb87f8d2cc', NULL, NULL, E'9d6d5892162cec05ac2096ac7af5cb455cb06370', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:25:54) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;35;1mClient Update (0.2ms)[0m   [0mUPDATE "clients" SET "updated_at" = '2009-12-08 09:25:54.654377', "reset_code" = E'2ab2558ba1f4cb7f076de8526870378af402fad3' WHERE "id" = 2071878930[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:25:54.670306', '2009-12-08 09:25:54.670306', 2071878930, '2009-12-08 09:25:54.655873', E'reset_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:25:54 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=2ab2558ba1f4cb7f076de8526870378af402fad3
Redirected to http://test.host/
Completed in 29ms (DB: 2) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:25:54) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"1234", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:25:54) [GET]
  Parameters: {"action"=>"lookup_form", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:28:17) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"3654", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/practitioners/david-savage
Completed in 4ms (DB: 10) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:28:17) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.4ms)
Rendered practitioners/_selected_pro_info (1.0ms)
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:28:17.835834', '2009-12-08 09:28:17.835834', NULL, NULL, E'580fecf8d2bab75e5af5f98d7b1c8a36f3c04ef6', NULL, NULL, E'db16f954bc77061c8512164c5fd4091521c0cea5', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:28:17) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;35;1mClient Update (0.3ms)[0m   [0mUPDATE "clients" SET "updated_at" = '2009-12-08 09:28:17.843452', "reset_code" = E'2a1835a5bf60c918a1f9b3a9720b01e3331826e5' WHERE "id" = 2071878930[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:28:17.858913', '2009-12-08 09:28:17.858913', 2071878930, '2009-12-08 09:28:17.845026', E'reset_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:28:17 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=2a1835a5bf60c918a1f9b3a9720b01e3331826e5
Redirected to http://test.host/
Completed in 29ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:28:17) [POST]
  Parameters: {"action"=>"login", "controller"=>"clients", "phone_last4digits"=>"1234", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 1ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:28:17) [GET]
  Parameters: {"action"=>"lookup_form", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:27.980643', '2009-12-08 09:31:27.980643', NULL, NULL, E'f9da3b878300059adc95d7e5d90b481229170f84', NULL, NULL, E'b2a98aac2ac4ea463d24e665b062a9597822b812', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foobar') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:27.992362', '2009-12-08 09:31:27.992362', NULL, NULL, E'1ed7dabb165cd49c942d8ed4108e7d3038f9bd84', NULL, NULL, E'712554ef48c69959f2977c5586f1f8f6acf5b4bb', NULL, E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:27.997715', '2009-12-08 09:31:27.997715', E'888762313', E'021', E'64b94e96d3508030f42d05c411f73aae1fb64fd1', NULL, NULL, E'821fdd155b7f407c158b69bbe6d29ccfe79c94a1', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:28.005125', '2009-12-08 09:31:28.005125', NULL, NULL, E'd91e235e57e6949c9629eaf756b06a9f358190b0', NULL, NULL, E'950fd32d60324a04795de779c29d24433f535e21', NULL, E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo2@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:28.009876', '2009-12-08 09:31:28.009876', E'888762313', E'021', E'b9e638d6150d5caa6bee5830dd0ced3c7202f98e', NULL, NULL, E'a85bf42d3264540d3d48a27ec34a70275f9438dc', NULL, E'foo2@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo3@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:28.015435', '2009-12-08 09:31:28.015435', E'8887623135', E'021', E'0272fa270ddfc716ca26708877f0264436b87fdc', NULL, NULL, E'5af82833919520e776c0383b10718de58193b3bb', NULL, E'foo3@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.2ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Delete all (0.1ms)[0m   [0;1mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.2ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Delete all (0.1ms)[0m   [0mDELETE FROM "clients" [0m
WARNING: Can't mass-assign these protected attributes: username
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:28.036819', '2009-12-08 09:31:28.036819', NULL, NULL, E'47dbeb5559d6f5e2be96a14ae64e2bbd0a31cacf', NULL, NULL, E'2b3bf8009a6870e6a341151f37b61274f1226ea8', NULL, E'bar@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: username
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 09:31:28.214403', '2009-12-08 09:31:28.214403', E'foobar', E'f74b8f1216816268e27d947cb433d68fbd265125', NULL, E'84705796b579738472021f17ed9caacd8102572f', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'nonexisting') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'nonexisting') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 09:31:28.228485', '2009-12-08 09:31:28.228485', E'foo', E'9983093cde05a3dde7ac0cce4ba75c662dc30b02', NULL, E'a636f034c844de916e8ec9ba5c9cf7a736cde1cc', E'foo@bar.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foo@bar.com') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 09:31:28.238492', '2009-12-08 09:31:28.238492', E'foobar', E'fb4f265fccc270603b064748968fd113407537fd', NULL, E'0dc3defdcb6ebd97ac98c0fffbc635296610ea78', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."username" = E'foobar') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 09:31:28.246770', '2009-12-08 09:31:28.246770', E'foo', E'7b1e354644eb6f308b7b586e199d2504bc84afa3', NULL, E'9fe6a0ee45a1ec0e72c3d7434ce5c0d9bae8e86d', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.2ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.1ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'odd ^&(@)') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Delete all (0.1ms)[0m   [0mDELETE FROM "practitioners" [0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.5ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 09:31:28.286435', '2009-12-08 09:31:28.286435', E'foo', E'40b6ffa83c36b10d7d7033aa1b10f17e7b226320', NULL, E'5bc7cdaab59c5a2432892df9f42d505ebb6caada', E'bar@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'foo') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'bar@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPractitioner Delete all (0.2ms)[0m   [0;1mDELETE FROM "practitioners" [0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;36;1mPractitioner Load (0.1ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.2ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.1ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "practitioners" ("permalink", "created_at", "updated_at", "username", "password_salt", "last_name", "password_hash", "email", "first_name") VALUES(E'', '2009-12-08 09:31:28.298013', '2009-12-08 09:31:28.298013', E'uniquename', E'785b32a385e2fd68722832a34d8e5350afed269c', NULL, E'22d6abde7ae0050480e15d39b77b3bce3c9a865d', E'foo@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."username" = E'uniquename') LIMIT 1[0m
  [4;35;1mPractitioner Load (0.2ms)[0m   [0mSELECT "practitioners".id FROM "practitioners" WHERE ("practitioners"."email" = E'foo@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:31:29) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"3654", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.8ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/practitioners/david-savage
Completed in 4ms (DB: 11) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=3654]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering clients/login_phone
Rendered clients/_login_info (0.6ms)
Rendered practitioners/_selected_pro_info (0.5ms)
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/login_phone?login=cbonnet99%40gmail.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "clients" ("created_at", "updated_at", "phone_suffix", "phone_prefix", "password_salt", "question", "string", "password_hash", "reset_code", "email", "answer") VALUES('2009-12-08 09:31:29.785845', '2009-12-08 09:31:29.785845', NULL, NULL, E'075cdb568326334539193ea7436adf78d8c9add7', NULL, NULL, E'fa2ec85b7af29d847ab8514e47f8ad20ec027010', NULL, E'foo1@example.com', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ClientsController#login_phone (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"login_phone", "controller"=>"clients", "login"=>"foo1@example.com"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."email" = E'foo1@example.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT "clients".id FROM "clients" WHERE ("clients"."email" = E'foo1@example.com' AND "clients".id <> 2071878930) LIMIT 1[0m
  [4;35;1mClient Update (0.4ms)[0m   [0mUPDATE "clients" SET "updated_at" = '2009-12-08 09:31:29.795442', "reset_code" = E'eb8f01f9092a59a8efb9f6b886d11a5c96ce1351' WHERE "id" = 2071878930[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "client_emails" ("created_at", "updated_at", "client_id", "sent_at", "email_type") VALUES('2009-12-08 09:31:29.822365', '2009-12-08 09:31:29.822365', 2071878930, '2009-12-08 09:31:29.797409', E'reset_phone') RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to foo1@example.com

Date: Tue, 8 Dec 2009 22:31:29 +1300
From: cbonnet99@gmail.com
To: foo1@example.com
Subject: [Online Bookings(TEST)] You have requested to reset your phone number
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

You can reset your phone number by clicking on the following link:

http://localhost/request_reset_phone?reset_code=eb8f01f9092a59a8efb9f6b886d11a5c96ce1351
Redirected to http://test.host/
Completed in 46ms (DB: 3) | 302 Found [http://test.host/login_phone?login=foo1%40example.com]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing ClientsController#login (for 0.0.0.0 at 2009-12-08 22:31:29) [POST]
  Parameters: {"action"=>"login", "phone_last4digits"=>"1234", "controller"=>"clients", "login"=>"cbonnet99@gmail.com"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM "clients" WHERE ("clients"."email" = E'cbonnet99@gmail.com') LIMIT 1[0m
Redirected to http://test.host/login_phone?login=cbonnet99%40gmail.com
Completed in 2ms (DB: 1) | 302 Found [http://test.host/client_login?login=cbonnet99%40gmail.com&phone_last4digits=1234]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing ClientsController#lookup_form (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"lookup_form", "controller"=>"clients"}
Rendering template within layouts/application
Rendering clients/lookup_form
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://test.host/lookup_form]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing PractitionersController#edit_selected (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"edit_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.3ms)[0m   [0;1mSELECT * FROM "practitioners" [0m
Rendering template within layouts/application
Rendering practitioners/edit_selected
Rendered practitioners/_select (2.0ms)
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 11ms (View: 5, DB: 1) | 200 OK [http://test.host/edit_selected_practitioner]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing PractitionersController#new (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"practitioners"}
Rendering template within layouts/application
Rendering practitioners/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/practitioners/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m


Processing PractitionersController#show (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"show", "practitioner_permalink"=>"david-savage", "controller"=>"practitioners"}
  [4;35;1mPractitioner Load (0.4ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."permalink" = E'david-savage') LIMIT 1[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 2071878929) [0m
Rendering template within layouts/application
Rendering practitioners/show
Rendered clients/_login_info (1.1ms)
Rendered practitioners/_selected_pro_info (0.6ms)
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://test.host/practitioners/show?practitioner_permalink=david-savage]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPractitioner Load (0.3ms)[0m   [0mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m


Processing PractitionersController#update_selected (for 0.0.0.0 at 2009-12-08 22:31:29) [POST]
  Parameters: {"practitioner_id"=>"1819705844", "action"=>"update_selected", "controller"=>"practitioners"}
  [4;36;1mPractitioner Load (0.4ms)[0m   [0;1mSELECT * FROM "practitioners" WHERE ("practitioners"."id" = 1819705844) [0m
Redirected to http://test.host/practitioners/david-savage
Completed in 2ms (DB: 1) | 302 Found [http://test.host/update_selected_practitioner?practitioner_id=1819705844]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-12-08 22:31:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Rendered clients/_login_info (0.1ms)
Rendered practitioners/_selected_pro_info (0.1ms)
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
